---
title: Перенос веб-приложения ASP.NET в службу приложений Azure
description: Узнайте, как перенести веб-приложение ASP.NET из локальной среды в службу приложений Azure.
keywords: Azure .NET, ASP.NET, App Service, Web App, migrate, migration
author: camsoper
manager: wpickett
ms.author: casoper
ms.date: 11/15/2017
ms.topic: article
ms.technology: azure
ms.devlang: dotnet
ms.service: app-service
ms.custom: devcenter
ms.openlocfilehash: 050782871c3fe4ccb0d15bf9933c3b11c88ce661
ms.sourcegitcommit: dbec35008347b581dd238b882354300e427bec70
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/02/2018
---
# <a name="migrate-an-aspnet-web-application-to-azure-app-service"></a><span data-ttu-id="65d83-104">Перенос веб-приложения ASP.NET в службу приложений Azure</span><span class="sxs-lookup"><span data-stu-id="65d83-104">Migrate an ASP.NET web application to Azure App Service</span></span>

<span data-ttu-id="65d83-105">[Служба приложений](https://docs.microsoft.com/azure/app-service/app-service-web-overview#why-use-web-apps) — это полностью управляемая вычислительная платформа, оптимизированная для размещения масштабируемых веб-сайтов и веб-приложений.</span><span class="sxs-lookup"><span data-stu-id="65d83-105">[App Service](https://docs.microsoft.com/azure/app-service/app-service-web-overview#why-use-web-apps) is a fully-managed compute platform service that is optimized for hosting scalable websites and web applications.</span></span> <span data-ttu-id="65d83-106">В этом документе содержатся сведения о переносе существующего приложения в службу приложений Azure методом lift-and-shift, рекомендуемых изменениях и дополнительных ресурсах для перемещения в облако.</span><span class="sxs-lookup"><span data-stu-id="65d83-106">This document provides information on how to lift-and-shift an existing application to Azure App Service, modifications to consider, and additional resources for moving to the cloud.</span></span>

<span data-ttu-id="65d83-107">Готовы начать работу?</span><span class="sxs-lookup"><span data-stu-id="65d83-107">Ready to get started?</span></span> <span data-ttu-id="65d83-108">[Опубликуйте свое приложение ASP.NET + SQL в службе приложений Azure](https://go.microsoft.com/fwlink/?linkid=863214).</span><span class="sxs-lookup"><span data-stu-id="65d83-108">[Publish your ASP.NET + SQL application to Azure App Service](https://go.microsoft.com/fwlink/?linkid=863214).</span></span>

# <a name="preparation"></a><span data-ttu-id="65d83-109">Подготовка</span><span class="sxs-lookup"><span data-stu-id="65d83-109">Preparation</span></span>   
* [<span data-ttu-id="65d83-110">Как определить, соответствует ли ваше приложение требованиям службы приложений?</span><span class="sxs-lookup"><span data-stu-id="65d83-110">How to determine if your app qualifies for App Service</span></span>](https://azure.microsoft.com/downloads/migration-assistant/)
* [<span data-ttu-id="65d83-111">Перенос базы данных в облако.</span><span class="sxs-lookup"><span data-stu-id="65d83-111">Moving your database to the cloud</span></span>](https://go.microsoft.com/fwlink/?linkid=863217)

# <a name="considerations"></a><span data-ttu-id="65d83-112">Рекомендации</span><span class="sxs-lookup"><span data-stu-id="65d83-112">Considerations</span></span>
<span data-ttu-id="65d83-113">Существует несколько факторов, которые следует учесть перед переносом приложения.</span><span class="sxs-lookup"><span data-stu-id="65d83-113">There are several factors you must consider before migrating your application.</span></span> <span data-ttu-id="65d83-114">Ниже приводится список потенциальных изменений, которые может потребоваться внести в приложение, и объясняется, как это сделать.</span><span class="sxs-lookup"><span data-stu-id="65d83-114">Below is a list of potential modifications you might have to make to your application, and how to go about doing them.</span></span>

## <a name="sql-database-configuration"></a><span data-ttu-id="65d83-115">Конфигурация базы данных SQL</span><span class="sxs-lookup"><span data-stu-id="65d83-115">SQL Database configuration</span></span>
<span data-ttu-id="65d83-116">Для веб-приложения, в котором используется локальная база данных, есть несколько вариантов конфигурации.</span><span class="sxs-lookup"><span data-stu-id="65d83-116">If your application is using an on-premises database, you have several options for your web app.</span></span> <span data-ttu-id="65d83-117">[Дополнительные сведения о переносе баз данных SQL в Azure](https://go.microsoft.com/fwlink/?linkid=863217).</span><span class="sxs-lookup"><span data-stu-id="65d83-117">[Read more about migrating SQL databases to Azure](https://go.microsoft.com/fwlink/?linkid=863217).</span></span>

## <a name="iis"></a><span data-ttu-id="65d83-118">IIS</span><span class="sxs-lookup"><span data-stu-id="65d83-118">IIS</span></span>
<span data-ttu-id="65d83-119">Теперь все параметры приложения, которые традиционно настраиваются с помощью файла applicationHost.config, можно настроить на портале Azure.</span><span class="sxs-lookup"><span data-stu-id="65d83-119">Everything traditionally configured via applicationHost.config in your application can now be configured through the Azure portal.</span></span> <span data-ttu-id="65d83-120">Это касается разрядности пула приложений, включения и отключения протокола WebSocket, версии управляемого конвейера, версии платформы .NET Framework (2.0 или 4.0) и других параметров. Чтобы изменить [параметры приложения](https://docs.microsoft.com/azure/app-service/web-sites-configure), перейдите на [портал Azure](https://portal.azure.com), откройте колонку нужного веб-приложения и выберите вкладку **Параметры приложения**.</span><span class="sxs-lookup"><span data-stu-id="65d83-120">This applies to AppPool bitness, enable/disable websockets, managed pipeline version, .NET Framework version (2.0/4.0), etc. To modify your [application settings](https://docs.microsoft.com/azure/app-service/web-sites-configure), navigate to the [Azure portal](https://portal.azure.com), open the blade for your web app, and then select the **Application Settings** tab.</span></span>

## <a name="authentication"></a><span data-ttu-id="65d83-121">Authentication</span><span class="sxs-lookup"><span data-stu-id="65d83-121">Authentication</span></span>
<span data-ttu-id="65d83-122">Если в приложении настроена проверка подлинности пользователей в любой момент, необходимо внести изменения в эту функцию, чтобы она работала после развертывания в службе веб-приложений Azure.</span><span class="sxs-lookup"><span data-stu-id="65d83-122">If your application authenticates users at any point, you will have to modify this functionality to work once the application deployed on Azure Web Apps.</span></span> <span data-ttu-id="65d83-123">Это можно сделать, например, путем интеграции локальных каталогов с Azure Active Directory при помощи Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="65d83-123">One possibility is to use Azure AD Connect to integrate your on-premises directories with Azure Active Directory.</span></span> <span data-ttu-id="65d83-124">[Подробнее об интеграции локальных каталогов с Azure Active Directory](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect).</span><span class="sxs-lookup"><span data-stu-id="65d83-124">[Learn more about how to integrate your on-premises directories with Azure Active Directory](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect).</span></span>

## <a name="virtual-network-modification"></a><span data-ttu-id="65d83-125">Изменения в виртуальной сети</span><span class="sxs-lookup"><span data-stu-id="65d83-125">Virtual Network Modification</span></span>
<span data-ttu-id="65d83-126">Если вы работаете с несколькими службами Azure, для безопасного взаимодействия между этими службами можно использовать виртуальную сеть.</span><span class="sxs-lookup"><span data-stu-id="65d83-126">If you use more than one Azure service you may consider using a virtual network to securely communicate between these services.</span></span> <span data-ttu-id="65d83-127">Подключение из локальной сети к [виртуальной сети Azure](https://docs.microsoft.com/azure/app-service/web-sites-integrate-with-vnet) можно настроить с помощью VPN или ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="65d83-127">You can configure a connection from your on-premises network to an [Azure Virtual Network](https://docs.microsoft.com/azure/app-service/web-sites-integrate-with-vnet) using VPN or ExpressRoute.</span></span>

## <a name="monitoring-and-diagnostics"></a><span data-ttu-id="65d83-128">Мониторинг и диагностика</span><span class="sxs-lookup"><span data-stu-id="65d83-128">Monitoring and Diagnostics</span></span>
<span data-ttu-id="65d83-129">Решения для мониторинга и диагностики, которые вы используете сейчас в локальной среде, вряд ли будут работать в облаке.</span><span class="sxs-lookup"><span data-stu-id="65d83-129">Your current on-premises solutions for monitoring and diagnostics are unlikely to work in the cloud.</span></span> <span data-ttu-id="65d83-130">Но Azure предоставляет средства для ведения журнала, мониторинга и диагностики, позволяющие определять и устранять проблемы, связанные с веб-приложениями.</span><span class="sxs-lookup"><span data-stu-id="65d83-130">However, Azure provides tools for logging, monitoring, and diagnostics so that you can identify and debug issues with web apps.</span></span> <span data-ttu-id="65d83-131">Диагностику веб-приложения можно без труда включить в его конфигурации, а записи журналов доступны для просмотра в Azure Application Insights.</span><span class="sxs-lookup"><span data-stu-id="65d83-131">You can easily enable diagnostics for your web app in its configuration, and you can view the logs recorded in Azure Application Insights.</span></span> <span data-ttu-id="65d83-132">[Подробнее о включении ведения журнала диагностики для веб-приложений](https://docs.microsoft.com/azure/app-service/web-sites-enable-diagnostic-log).</span><span class="sxs-lookup"><span data-stu-id="65d83-132">[Learn more about enabling diagnostics logging for web apps](https://docs.microsoft.com/azure/app-service/web-sites-enable-diagnostic-log).</span></span>

## <a name="connection-strings-and-application-settings"></a><span data-ttu-id="65d83-133">Строки подключения и параметры приложения</span><span class="sxs-lookup"><span data-stu-id="65d83-133">Connection Strings and application settings</span></span>
<span data-ttu-id="65d83-134">Один из вариантов безопасного хранения данных — [Azure KeyVault](https://docs.microsoft.com/azure/key-vault/), служба, в которой надежно хранятся конфиденциальные сведения, используемые в вашем приложении.</span><span class="sxs-lookup"><span data-stu-id="65d83-134">One option for keeping information safe is to use [Azure KeyVault](https://docs.microsoft.com/azure/key-vault/), a service that securely stores sensitive information used in your application.</span></span> <span data-ttu-id="65d83-135">Кроме того, эти данные можно хранить в настройках службы приложений.</span><span class="sxs-lookup"><span data-stu-id="65d83-135">Alternatively, you can store this data as an App Service setting.</span></span>

## <a name="dns"></a><span data-ttu-id="65d83-136">DNS</span><span class="sxs-lookup"><span data-stu-id="65d83-136">DNS</span></span>
<span data-ttu-id="65d83-137">Возможно, вам понадобится обновить конфигурацию DNS в соответствии с требованиями приложения.</span><span class="sxs-lookup"><span data-stu-id="65d83-137">You may need to update DNS configurations based on the requirements of your application.</span></span> <span data-ttu-id="65d83-138">Эти параметры DNS можно настроить в [параметрах личного домена](https://docs.microsoft.com/azure/app-service/app-service-web-tutorial-custom-domain) службы приложений.</span><span class="sxs-lookup"><span data-stu-id="65d83-138">These DNS settings can be configured in the App Service [custom domain settings](https://docs.microsoft.com/azure/app-service/app-service-web-tutorial-custom-domain).</span></span> <span data-ttu-id="65d83-139">Также можно [привязать существующий пользовательский SSL-сертификат](https://docs.microsoft.com/azure/app-service/app-service-web-tutorial-custom-ssl).</span><span class="sxs-lookup"><span data-stu-id="65d83-139">Another factor to consider is [binding an existing custom SSL certificate](https://docs.microsoft.com/azure/app-service/app-service-web-tutorial-custom-ssl).</span></span>

## <a name="file-system-and-storage"></a><span data-ttu-id="65d83-140">Файловая система и хранилище</span><span class="sxs-lookup"><span data-stu-id="65d83-140">File system and Storage</span></span>
<span data-ttu-id="65d83-141">Если в вашем приложении сохраняются данные, необходимо настроить его так, чтобы вместо этого использовать хранилище Azure.</span><span class="sxs-lookup"><span data-stu-id="65d83-141">If your application persists data, you will need to update it to use Azure Storage instead.</span></span> <span data-ttu-id="65d83-142">Служба хранилища Azure предоставляет общие файловые ресурсы для совместного использования по протоколу SMB, хранилище BLOB-объектов, простые очереди и нереляционные таблицы.</span><span class="sxs-lookup"><span data-stu-id="65d83-142">Azure Storage is a service that provides file shares for sharing via SMB protocol, blob storage, simple queues, and non-relational tables.</span></span> <span data-ttu-id="65d83-143">[Подробнее об общих файловых ресурсах службы хранилища Azure](https://docs.microsoft.com/azure/storage/files/storage-files-introduction).</span><span class="sxs-lookup"><span data-stu-id="65d83-143">[Learn more about Azure Storage file shares](https://docs.microsoft.com/azure/storage/files/storage-files-introduction).</span></span>

## <a name="next-steps"></a><span data-ttu-id="65d83-144">Дополнительная информация</span><span class="sxs-lookup"><span data-stu-id="65d83-144">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="65d83-145">Перенос веб-приложения ASP.NET в службу приложений Azure</span><span class="sxs-lookup"><span data-stu-id="65d83-145">Migrate an ASP.NET Web application to Azure App Service</span></span>](https://aka.ms/azure-webapp-migrate)
